import{x as c}from"./cdeck.esm.min.31e773eb.js";import{M as j}from"./mapbox-layer.7bbd3cb5.js";import{a1 as q}from"./framework.5deb65a5.js";import"./mapbox-gl-enhance.811cc15a.js";import"./commonjsHelpers.725317a4.js";var x,_=new Uint8Array(16);function A(){if(!x&&!(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(_)}var B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var S,F,s=[],R=0;R<256;++R)s.push((R+256).toString(16).substr(1));function U(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!function(r){return typeof r=="string"&&B.test(r)}(l))throw TypeError("Stringified UUID is invalid");return l}function f(e,t,l){var r=(e=e||{}).random||(e.rng||A)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){l=l||0;for(var d=0;d<16;++d)t[l+d]=r[d];return t}return U(r)}S=function(e,t){var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(i){return(i=Math.round(i))<0?0:i>255?255:i}function d(i){return i<0?0:i>1?1:i}function u(i){return i[i.length-1]==="%"?r(parseFloat(i)/100*255):r(parseInt(i))}function p(i){return i[i.length-1]==="%"?d(parseFloat(i)/100):d(parseFloat(i))}function w(i,n,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?i+(n-i)*a*6:2*a<1?n:3*a<2?i+(n-i)*(2/3-a)*6:i}try{t.parseCSSColor=function(i){var n,a=i.replace(/ /g,"").toLowerCase();if(a in l)return l[a].slice();if(a[0]==="#")return a.length===4?(n=parseInt(a.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:a.length===7&&(n=parseInt(a.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var h=a.indexOf("("),M=a.indexOf(")");if(h!==-1&&M+1===a.length){var V=a.substr(0,h),o=a.substr(h+1,M-(h+1)).split(","),y=1;switch(V){case"rgba":if(o.length!==4)return null;y=p(o.pop());case"rgb":return o.length!==3?null:[u(o[0]),u(o[1]),u(o[2]),y];case"hsla":if(o.length!==4)return null;y=p(o.pop());case"hsl":if(o.length!==3)return null;var v=(parseFloat(o[0])%360+360)%360/360,k=p(o[1]),m=p(o[2]),g=m<=.5?m*(k+1):m+k-m*k,$=2*m-g;return[r(255*w($,g,v+1/3)),r(255*w($,g,v)),r(255*w($,g,v-1/3)),y];default:return null}}return null}}catch{}},S(F={exports:{}},F.exports);const b={mixins:[{render(){const e=this.$options&&this.$options.stubVNode?this.$options.stubVNode:{};if(e.empty){const r=q();return typeof e.empty=="string"?r.text=e.empty:typeof e.empty=="function"&&(r.text=e.empty.call(this)),r}let t;t=e.slots===!1?void 0:function(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(r).reduce((u,p)=>(d.length&&!d.includes(p)||(u=u.concat(r[p])),u),[])}(this.$slots.default?this.$slots.default():[],e.slots);const l={attrs:typeof e.attrs=="function"?e.attrs.call(this):e.attrs,style:{display:"none !important"}};return q(e.tag||"i",l,t)}}],inject:["getMap"],emits:["created"],mounted(){this.$options.inject&&this.getMap&&this.getMap.then(e=>{this.$mapVm=e,this.$map=e.$map,this.init(e),this.$emit("created",this)})},data:()=>({rev:0}),methods:{init(){throw new Error("本方法必须被实例化")}}};var L={name:"x-snow-layer",mixins:[b],props:{id:{type:String,default:()=>f()}},beforeUnmount(){this.$layer&&this.$map.removeLayer(this.id)},methods:{init(e){this.$layer=new c.SnowLayer(this.id),this.$map.addLayer(this.$layer)}},__file:"src/snow-layer/snow-layer.vue",install:function(e){e.component(L.name,L)}},N={name:"x-rain-layer",mixins:[b],props:{id:{type:String,default:()=>f()}},beforeUnmount(){this.$layer&&this.$map.removeLayer(this.id)},methods:{init(e){this.$layer=new c.RainLayer(this.id),this.$map.addLayer(this.$layer)}},__file:"src/rain-layer/rain-layer.vue",install:function(e){e.component(N.name,N)}},O={name:"x-wind-layer",mixins:[b],props:{id:{type:String,default:()=>f()},image:{type:[String,null]},windMin:{type:Array},windMax:{type:Array},windRange:{type:Array},windOrigin:{type:Array},windRes:{type:Number},particlesNumber:{type:Number,default:65536},fadeOpacity:{type:Number,default:.95},speedFactor:{type:Number,default:.15},dropRate:{type:Number,default:.003},dropRateBump:{type:Number,default:.01},rampColors:{type:Object,default:()=>({0:"#6fb9e6",.1:"#8ac4e6",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"})},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0}},watch:{$props:{handler(){this.$layer&&this.$layer.setProps({image:this.image,windMin:this.windMin,windMax:this.windMax,windRange:this.windRange,windOrigin:this.windOrigin,windRes:this.windRes,particlesNumber:this.particlesNumber,fadeOpacity:this.fadeOpacity,speedFactor:this.speedFactor,dropRate:this.dropRate,dropRateBump:this.dropRateBump,rampColors:this.rampColors,opacity:this.opacity,visible:this.visible})},deep:!0}},beforeUnmount(){this.$layer&&this.$map.removeLayer(this.id)},methods:{init(e){const t={id:this.id,image:this.image,windMin:this.windMin,windMax:this.windMax,windRange:this.windRange,windOrigin:this.windOrigin,windRes:this.windRes,particlesNumber:this.particlesNumber,fadeOpacity:this.fadeOpacity,speedFactor:this.speedFactor,dropRate:this.dropRate,dropRateBump:this.dropRateBump,rampColors:this.rampColors,opacity:this.opacity,visible:this.visible};this.$layer=new j(Object.assign({type:c.WindLayer},t)),this.$map.addLayer(this.$layer),console.log(1111)}},__file:"src/wind-layer/wind-layer.vue",install:function(e){e.component(O.name,O)}},C={name:"x-scalar-field-layer",mixins:[b],props:{id:{type:String,default:()=>f()},image:{type:String,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},range:{type:Array,required:!0},origin:{type:Array,required:!0},resolution:{type:Number,required:!0},rampColors:{type:Object,default:()=>({0:"#6fb9e6",.1:"#8ac4e6",.2:"#abdda4",.3:"#e6f598",.4:"#fee08b",.5:"#fdae61",.6:"#f46d43",1:"#d53e4f"})},opacity:{type:Number,default:.8},visible:{type:Boolean,default:!0}},beforeUnmount(){this.$layer&&this.$map.removeLayer(this.id)},methods:{init(e){const t={id:this.id,image:this.image,min:this.min,max:this.max,range:this.range,origin:this.origin,resolution:this.resolution,rampColors:this.rampColors,opacity:this.opacity,visible:this.visible};this.$layer=new j(Object.assign({type:c.ScalarFieldLayer},t)),this.$map.addLayer(this.$layer)}},__file:"src/scalar-field-layer/scalar-field-layer.vue",install:function(e){e.component(C.name,C)}};const E=[L,N,O,C];var P={version:"2.1.0",install:function(e){E.forEach(t=>{e.component(t.name,t)})}};export{N as XRainLayer,C as XScalarFieldLayer,L as XSnowLayer,O as XWindLayer,P as default};

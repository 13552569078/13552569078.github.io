import{a9 as b,aa as g}from"./hongluan-business.cf55c6a9.js";import{_ as x,n as B}from"./index.a95a1468.js";import{a0 as e,L as i,X as h,a1 as s,Y as $,a4 as n}from"./vue.42779483.js";import"./highlight.aba4bc0a.js";import"./hongluan-icons.58a96039.js";const t=b();t.$off=t.off;t.$on=t.on;t.$emit=t.emit;const y={data(){return{lang:this.$route.meta.lang,navsData:B,scrollTop:0,showHeader:!0,componentScrollBar:null,componentScrollBoxElement:null}},computed:{showBackToTop(){return!this.$route.path.match(/backtop/)}},watch:{"$route.path"(){}},created(){t.$on("nav-fade",o=>{this.navFaded=o})},mounted(){this.componentScrollBar=this.$refs.componentScrollBar,this.componentScrollBox=this.componentScrollBar.$el.querySelector(".scrollbar-wrap"),this.throttledScrollHandler=g(300,this.handleScroll),this.componentScrollBox.addEventListener("scroll",this.throttledScrollHandler),document.body.classList.add("is-component"),this.addContentObserver()},unmounted(){document.body.classList.remove("is-component")},beforeUnmount(){this.componentScrollBox.removeEventListener("scroll",this.throttledScrollHandler),this.observer.disconnect()},methods:{addContentObserver(){this.observer=new MutationObserver((o,r)=>{for(const l of o)l.type==="childList"&&(this.renderAnchorHref(),this.goAnchor())}),this.observer.observe(document.querySelector(".doc-content"),{childList:!0})},renderAnchorHref(){if(/changelog/g.test(location.href))return;const o=document.querySelectorAll("h2 a,h3 a,h4 a,h5 a"),r=location.href.split("#").splice(0,2).join("#");[].slice.call(o).forEach(l=>{const a=l.getAttribute("href");a.indexOf("#")===0&&(l.href=r+a)})},goAnchor(){if(location.href.match(/#/g).length>1){const o=location.href.match(/#[^#]+$/g);if(!o)return;const r=document.querySelector(o[0]);if(!r)return;setTimeout(()=>{this.componentScrollBox.scrollTop=r.offsetTop},50)}},handleScroll(){const o=this.componentScrollBox.scrollTop;this.showHeader!==this.scrollTop>o&&(this.showHeader=this.scrollTop>o),o===0&&(this.showHeader=!0),this.navFaded||t.$emit("fade-nav"),this.scrollTop=o}}};function T(o,r,l,a,c,w){const d=e("main-header"),m=e("side-nav"),u=e("hl-scrollbar"),p=e("hl-aside"),f=e("router-view"),_=e("hl-main"),v=e("hl-container"),S=e("hl-layout");return i(),h(S,{"fixed-aside":!0,"fixed-header":!0,"full-header":!0},{default:s(()=>[c.lang!=="play"?(i(),h(d,{key:0})):$("",!0),n(v,null,{default:s(()=>[n(p,null,{default:s(()=>[n(u,{ref:"componentScrollBar"},{default:s(()=>[n(m,{data:c.navsData[c.lang],base:`/${c.lang}`},null,8,["data","base"])]),_:1},512)]),_:1}),n(_,{class:"doc-content"},{default:s(()=>[n(f)]),_:1})]),_:1})]),_:1})}var O=x(y,[["render",T]]);export{O as default};
